

---

# 优医问诊 首页 API 接口文档

## 一、 基础说明
- **Base URL**: `http://magic-era.top/doctor`
- **请求方式**: 统一使用 `GET`
- **数据格式**: `json`
- **公共状态码**:
  - `200`: 请求成功
  - `400`: 参数错误
  - `404`: 资源不存在
  - `500`: 服务器内部错误

---

## 二、 内容列表接口
> 用于获取各分类下的文章列表数据

### 1. 推荐/护肤/减脂/饮食列表
| 类别     | 接口地址   | 说明             |
| :------- | :--------- | :--------------- |
| **推荐** | `/suggest` | 首页推荐流内容   |
| **护肤** | `/skin`    | 皮肤健康相关内容 |
| **减脂** | `/weight`  | 体重管理相关内容 |
| **饮食** | `/diet`    | 科学膳食相关内容 |

**统一返回对象**:

| 字段名            | 类型    | 说明                   |
| :---------------- | :------ | :--------------------- |
| `id`              | Integer | 文章ID                 |
| `doctor_name`     | String  | 医生姓名               |
| `doctor_status`   | String  | 医生职称               |
| `doctor_hospital` | String  | 所属医院/科室          |
| `doctor_icon`     | String  | 医生头像路径           |
| `is_follow`       | Boolean | 是否已关注 (0/1)       |
| `post_title`      | String  | 文章标题               |
| `post_abstract`   | String  | 文章摘要               |
| `post_content`    | String  | 文章正文 (HTML 富文本) |
| `like_count`      | Integer | 收藏数                 |
| `comments`        | Integer | 评论数                 |
| `publish_time`    | String  | 发布日期               |



---

### 2. 关注列表接口
**接口地址**: `/follow`  
**说明**: 获取当前用户已关注医生的内容。合并四个分类数据，按 `publish_time` 倒序排列。

**返回字段**: `post_type` -> follow   
---

## 三、 内容详情接口
用于获取单篇文章的详细信息，包含富文本内容。

### 1. 分类详情接口
| 类别         | 接口地址          |
| :----------- | :---------------- |
| **推荐详情** | `/suggest_detail` |
| **护肤详情** | `/skin_detail`    |
| **减脂详情** | `/weight_detail`  |
| **饮食详情** | `/diet_detail`    |

**请求参数**:
| 参数名 | 必填 | 类型    | 说明     |
| :----- | :--- | :------ | :------- |
| `id`   | 是   | Integer | 文章ID   |
| `name` | 是   | String  | 医生姓名 |

### 2. 关注详情接口
**接口地址**: `/follow_detail`  
**请求参数**:
| 参数名 | 必填 | 类型    | 说明                                |
| :----- | :--- | :------ | :---------------------------------- |
| `id`   | 是   | Integer | 文章ID                              |
| `name` | 是   | String  | 医生姓名                            |
| `type` | 是   | String  | 来源分类 (skin/weight/diet/suggest) |

**返回说明**:

- 字段结构参考“统一接口”。

---

## 四、 详情页的其他推荐接口

### 1. 医生的其他推荐
**接口地址**: `/get_doctor_posts`  
**说明**: 用于详情页底部展示该医生的其他科普文章。

**请求参数**:
| 参数名 | 必填 | 说明                                          |
| :----- | :--- | :-------------------------------------------- |
| `name` | 是   | 医生姓名 (用于查询同一名下的文章)             |
| `id`   | 是   | 当前文章ID (用于去重，不在列表中显示当前这篇) |
| `type` | 是   | 当前文章分类 (配合ID进行精确去重)             |

**返回说明**:
- 返回该医生的其他文章列表，最多返回 **3** 条。
- 字段结构参考“统一返回对象”。

---

## 五、 特殊字段说明
- **post_type**:
  - `suggest`: 推荐
  - `skin`: 护肤
  - `weight`: 减脂
  - `diet`: 饮食
  - `follow`: 关注
- **cover_type**:
  - `1`: 单图模式   
  - `2`: 三图模式